KONU: Temel Türler & Null Güvenliği

#1 val ile var arasındaki fark nedir?

val tipindeki bir değişkene yalnızca 1 defa değer atanabilir edilebilir ancak daha sonra yeni adeğerler atanamaz.
var tipinde ise istediğimiz kadar değişiklik yapabiliriz.
val -> value, var -> variable kelimelerinden gelir.

------------------------------------------------------------

#2 Bir var değişkeni val gibi davranmasını nasıl sağlayabiliriz val kelimesini kullanmadan? Bunu neden yapmak isteriz? Örnek bir senaryo verin.

İlk değer atanma işlemine kadar val ve var değişkenler arasında pek bir fark yoktur. Önemli fark ilk değer atamadan sonra bir daha val değişkene değer atanamamasıdır.
Bunu belirli bir seviyede var değişkene yapmak istiyorsak var değişken tanımlandıktan sonra değişkenin setter'ını private hale getirebiliriz.

Bunu yaptığımızda nesne üzerinden değişkene erişip direkt olarak değer ataması yapılamaz.
Ancak nesne ile sınıf içerisindeki metodlara erişim sağlanabiliyorsa ve bu metodlar içerisinde var değişkenin değerinde değişiklik yapılıyorsa bunu bu yöntemle engelleyemeyiz.

class Visibility {
    var myValue: String = "I act like 'val'"
        private set
}

Bu yöntemi kullanmamızdaki amaç değişkene dışarıdan nesne yardımıyla direkt olarak erişilip değişiklik yapılmamasını istememiz olabilir. Daha kontrollü bir kod yazmış oluruz.
Aynı zamanda gerektiğinde nesne üzerinden gerekli metodlar ile değişkende değişiklik yapılmasına da izin verilmiş olur.

------------------------------------------------------------

#3 "Değişmez" (Immutable) ve "Salt Okunur" (ReadOnly) kavramlarını açıklayın. val değişkenler neden aslında "değişmez" değil de "salt okunur" olarak açıklanmalıdır?

Immutable durumunda bir nesne oluşturulurken (declaration aşamasında) atama yapılır ve sonra bir daha yeni atama yapılamaz. Bu durum değişmez olarak tanımlanabilir. örnek -> const val --> must be initialized
Read-Only durumunda nesne herhangi bir değer almadan oluşturulup (declaration esnasında) daha sonraki aşamalarda yalnızca 1 defa değer ataması yapılabilir.
val değişkenler declaration aşamasında iki durumla da kullanılabiliyor. Hem oluştururken değer atayabiliyoruz hem de oluşturduktan sonra değer atayabiliyoruz. Bu yüzden de val değişkenlerin read-only olarak açıklanması daha doğrudur.

------------------------------------------------------------

#4 "Tip Çıkarımı" (Type inference) kavramını açıklayın. Hangi durumlarda tip belirtmek kesin olarak gereklidir?

Type inference kotlin dilinin bir özelliğidir. Bu özellik sayesinde değişkenleri deklare ederken veri türünü belirtmemize gerek olmaz.
Kotlin bunu arka planda uygun bir veri türüyle eşleştirecektir.

Nullable durumlarda kesinlikle tip belirtmemiz lazım.
Normal koşullarda bir tamsayı deklare ettiğimizde Kotlin Int sınırları içerisindeyse bunu otomatik olarak Int olarak tanımlar. Eğer biz bunu 'en baştan' Short ya da Long olarak tanımlamak istiyorsak tipini belirtmemiz lazım.

------------------------------------------------------------

#5 Kotlin'de tüm değişkenlerin sınıf olarak bulunması, "ilkel tip" (primitive type) olmadıkları anlamına gelir mi? Arka planda neler oluyor?

Bu konu hakkında Medium üzerinde yayınladığım yazıma göz atabilirsiniz. --> https://madenyasin.medium.com/kotlinde-pirimitive-de%C4%9Fi%C5%9Fkenler-abf1933c0941

------------------------------------------------------------

#6 "Tip Güvenliği" (Type Safety) kavramını açıklayın.

Type Safety kavramı; değişkene sahip olduğu veri türünün dışında veri ataması yapılmasını önleyerek runtime esnasında crash almamızı önler.
Kodu yazarken ya da compile time esnasında bizi uyararak hatayı erkenden fark etmemizi sağlar.

Aşağıdaki örneklerde hatalı veri türünde atama işlemleri yapılmıştır. Type Safety özelliği aşağıdaki hataları önler.

1) var myInt: Int = "myString"      --> Type mismatch: inferred type is String but Int was expected
2) var myChar: Char = "myCharArray" --> Type mismatch: inferred type is String but Char was expected
3) var myString: String = 15        --> The integer literal does not conform to the expected type String

------------------------------------------------------------

#7 Bir değişkeni nullable yapmak için ne yapmalıyız?

Kotlin'de değişkeni deklare ederken değişkenin veri türünü belirtip sonuna '?' karakteri eklenmelidir.

sample code --> var myNullableVariable: String? = null

------------------------------------------------------------

#8 "Null Güvenliği" (Null Safety) kavramını açıklayın.

Null olan bir nesneye erişip üzerinde işlem yapmaya çalışırsak 'NullPointerException' hatası alırız.
Bu hata önemli bir hatadır çünkü uygulamanın çökmesine neden olur.
Java dilinde Null safety özelliği tam olarak yoktur. Bu yüzden koda manuel olarak null kontrolleri eklememiz gerekir.
Kotlin bunu bize çok kolay syntaxlar ile sağlayabiliyor ve önemli ölçüde 'NullPointerException' hatasını önleyebiliyor.

Kotlin'de null safety için özel operatörler vardır. -> ['?.', '!!.', 'dataType?', '?:']

var nonNullable: Int = null // hata verir
var nullable: Int? = null   // çalışır 

var nonNullable: Int = 15 -> nonNullable.plus(10)    // çalışır
var nullable: Int? = null -> nullable?!.plus(10)     // hata vermeden çalışır > null çıktısı verir
var nullable: Int? = null -> nullable!!.plus(10)     // NullPointerException

------------------------------------------------------------

#9 Bir değişkene null değer atanır ve tip belirtilmezse Kotlin bu değişkeni nasıl yorumlar?

var myVar = null --> değişkenin Nothing? tipindedir.

------------------------------------------------------------

#10 İlkel bir değişkenin nullable olması ile null değer alamaması arasında bellek yönetimi açısından nasıl farklar vardır?

Kotlin'de primitive türdeki bir değişken Nullable olarak deklare edilirse o değişken artık primitive değildir. Referans tipte bir değişkendir.
Referans tipte olduğu için değişken 'Stack' alanında, değeri 'Heap' alanında bulunur.
Primitive değişken null değer almıyorsa zaten nonNullable'dır ve primitive olmaya devam eder. Bu durumda da değişken de 'Stack' alanında tutulur. Değer de 'Stack' alanında tutulur. 

------------------------------------------------------------

#11 Nullable bir değişkenin bir değere sahip olması ile null olması arasında bellek yönetimi açısından nasıl bir fark vardır? Null değer almış bir değişken bellekte yer kaplamaz diyebilir miyiz?

Nullable değişken null değilse bellekte normal şekilde Stack üzerinde değişken, Heap üzerinde değeri saklanır.
Ancak Nullable değişken null değere sahipse işler biraz farklılaşır. Stack üzerinde değişkenin varlığı bildirilir ancak bu değişken heap üzerinde herhangi bir değeri göstermez.

var number1: Int? = 15
var number2: Int? = null

Stack   --> number1,    number2
                
Heap    --> value1(15)

------------------------------------------------------------

#12 Nullable bir değişkenle çalışırken hangi operatörleri kullanırız? Bu operatörlerin kullanım farkları nelerdir? Hangisini ne zaman kullanmak daha anlamlıdır?

['?.', '!!.', '?:']

?. tamamen güvenli bir şekilde nesnenin property'lerine erişmek için kullanılır. Null ile karşılaşılırsa en kötü senaryoda kod satırı çalışmaz.
!!. kullanımı riskli bir operatördür. Çünkü bu operatörü kullanırken nesnenin null olmadığını iddia edelir. Ancak nesne veya property null ise NullPointerException hatası alınır.
?: atama yaparken null olabilicek durumlar için atanan değer null ise default bir değer ataması sağlar.

?. çalışmasa da olur dediğimiz durumlarda kullanılabilir.
!!. ne olursa olsun çalışması gereken ancak çalışmazsa dahi NullPointerException hatasını alıp uygulamayı çökertme riskine değecek durumlarda kullanılabilir.

------------------------------------------------------------

Sayılar

#1 Kaç farklı tipte "number" sınıfı miras alan "alt sınıf" (child class) vardır? Bunların değer aralıkları neden önemlidir?

Double, Float --> ondalıklı işlemlerde kullanılır.
Long, Int, Short, Byte --> tam sayılar için.

Uygulamada kullanılacak sayıların maksimum ve minimum değerlerini içerecek bir veri tipini seçmemiz mantıklıdır.
Eğer bu sınırların dışına çıkılırsa kod blokları hatalı sonuç verir.
Tabii ki yüksek veri aralığı daha fazla bellek kullanımı ister. Bunun için de ne kazanıp ne kaybettiğimize odaklanıp doğru seçimi yapabiliriz.

------------------------------------------------------------